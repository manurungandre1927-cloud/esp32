<script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
<script>
const client = mqtt.connect("wss://broker.hivemq.com:8000/mqtt");

client.on("connect", () => {
  console.log("connected!");
  client.subscribe("iot/andre/temp");
});

client.on("message", (topic, msg) => {
  if (topic === "iot/andre/temp") {
    document.getElementById("temp").innerText = msg.toString() + " Â°C";
  }
});

function fanOn() {
  client.publish("iot/andre/cmd/fan", "ON");
}
function fanOff() {
  client.publish("iot/andre/cmd/fan", "OFF");
}
</script>

<h2>ğŸŒ¡ï¸ Suhu: <span id="temp">--</span></h2>
<button onclick="fanOn()">ğŸ”¥ ON</button>
<button onclick="fanOff()">â„ï¸ OFF</button>
